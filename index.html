<!DOCTYPE html>
<html>
<head>
    <title>Vadapav Visualizers</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <div class="navbar">
        <button onclick="showHome()">Home</button>
        <button onclick="showInteractive()">Interactive</button>
        <button onclick="showSpatial()">Spatial</button>
    </div>

    <div class="container">
        <div class="info" id = "intro">
            <h1>Chicago Crime Dataset Analysis</h1>
            <h2>by Vadapav Visualizers</h2>
            <p>The Chicago Crime dataset contains reported crime that occurred from 2001 to present. It was extracted from the Chicago Police Department's CLEAR (Citizen Law Enforcement Analysis and Reporting) system. The dataset contains more than 1 million crimes reported from 2001 including many details about the Crimes with its case number, a brief description, when, where, and how it happened, as well as if the offender was arrested or not.</p>
            <img src="data/image1.png" width="1200" height="500"/>
        </div>

        <div class="visualization" id = "one">
            <h3>Crime Trend In Different Chicago Regions</h3>
            <p>The following interactive scatter plot visualizes Chicago crime data, providing insights into the monthly crime trends in different regions of Chicago over the years.</p>
            <p>Use the slider below the chart to interact and select the year.</p>
            <div id="vis1"></div>
        </div>
        
        <div class="visualization" id = "two">
            <h3>Crime Trend in Chicago Over Time</h3>
            <p>The following visualization is an interactive multi-view area chart that shows the crime count over any period that the user selects. </p>
            <p>You can select the timeframe in the bottom graph for which you want to see the visualization in the upper graph. The time frame can be day/days, week/weeks, month/months or year/years. </p>
            <div id="vis2"></div>
        </div>

        <div class="visualization" id = "three">
            <h3>Ward and Year Specific Crime Analysis &</h3>
            <h3>Hourly Crime Distribution for Selected Crime Type</h3>
            <p>The following visualization is an interactive bar chart that shows the crime count for the top 10 crimes for the selected ward in the selected year.</p>
            <p>Select the Ward and/or Year from the dropdowns to see the visualization. You can also hover over the bars in the chart to see the Primary Type and exact Count.</p>
            <p>The second visualization shows the distribution of crimes by hour of the day for the crime type selected in the chart by clicking on the bar.</p>
            <div class="dropdown-container">
                <label for="ward-dropdown">Select Ward:</label>
                <select id="ward-dropdown"></select>
                <label for="year-dropdown">Select Year:</label>
                <select id="year-dropdown"></select>
            </div>
            <div id="linked-view-container">
                <div id="vis3" class="visualization"></div>
                <div id="linkedVis" class="visualization"></div>
            </div>
        </div>

        <div class="visualization" id = "four">
            <h3>Yearly Crime Location Overview</h3>
            <p>The following interactive visualization shows the top 5 crime locations by year with their counts.</p>
            <p>Select the Year from following buttons to view the top 5 crime locations for that year and the Number of Crime Occurences in each location. You can also hover over the bars in the chart to see the Location and exact Count.</p>
            <div id="button-container"></div>
            <div id="vis4"></div>
        </div>

        <div class="visualization" id = "five">
            <h3>Geospatial Analysis of Arrests</h3>
            <p>The following visualization provides a comprehensive view of arrests in Chicago, combining geographic information with detailed data about each arrest.</p>
            <p>You can select the year from dropdown to see the chicago map plot for that year. You can hover over the map to see the Type and Description of crime for each point on the graph.</p>
            <div class="center-container">
                <label for="year-dropdown-geo">Select Year:</label>
                <select id="year-dropdown-geo"></select>
            </div>
            <div id="vis5"></div>
        </div> 
    </div>
    
    <script src="script.js"></script>
    <script>
        function showHome(){
            document.getElementById("intro").style.display = "block";
            document.getElementById("one").style.display = "none";
            document.getElementById("two").style.display = "none";
            document.getElementById("three").style.display = "none";
            document.getElementById("four").style.display = "none";
            document.getElementById("five").style.display = "none";
        }

        function showInteractive() {
            document.getElementById("intro").style.display = "none";
            document.getElementById("one").style.display = "block";
            document.getElementById("two").style.display = "block";
            document.getElementById("three").style.display = "block";
            document.getElementById("four").style.display = "block";
            document.getElementById("five").style.display = "none";
        }

        function showSpatial() {
            document.getElementById("intro").style.display = "none";
            document.getElementById("one").style.display = "none";
            document.getElementById("two").style.display = "none";
            document.getElementById("three").style.display = "none";
            document.getElementById("four").style.display = "none";
            document.getElementById("five").style.display = "block";
        }
        
        // Initially show the Interactive visualizations
        showHome();
    </script>
</body>
</html>